<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
	<script src="Script/settings.js"></script>
	<script src="Script/ball.js"></script>
	<script src="Script/bar.js"></script>
	<script src="Script/canvas.js"></script>
	<script src="Script/score.js"></script>
	<script src="Script/block.js"></script>
	<script src="Script/board.js"></script>
	<script src="Script/game.js"></script>
	
	<link rel="stylesheet" type="text/css" href="Style/Style.css" />
	
	<script type="text/javascript">
	var ball;
	var bar;
	var board;
	var score;
	var gameLoopId; 
	
	var DEMO_MODE = false;
	
	function startGame(){
		document.getElementById('startButton').style.visibility='hidden';
		var canvasDom = document.getElementById('myCanvas');
		canvasDom.style.cursor = "none";
		
		var context = canvasDom.getContext('2d');
		var canvas = new canvasObj(context, canvasDom);

		run(canvas);
	}
	
	function run(canvas) {
		ball  = new ballObj(canvas);
		bar = new barObj(canvas);
		board = new boardObj(canvas);
		score = new scoreObj(canvas);
		
		// window.addEventListener('keydown',bar.doKeyDown,true);
			
		var canvasDom = document.getElementById('myCanvas');
		canvasDom.addEventListener('mousemove', function (e) { bar.X = e.clientX; }, false);	
			
		gameLoopId = setInterval(gameLoop, 0);	
	}

	</script>
    <title>Demo</title>
	<style>

	#myCanvas {
		width : 800px;
		height : 600px;
	}
		
		@media screen and (max-width: 960px) { /* screens 960px or less */
			#myCanvas {
				width : 800px;
				height : 600px;
			}
		}
		/*
		@media screen and (max-width: 524px) {
			#myCanvas {
				width : 480px;
				height : 320px;
			}		}
			*/
	</style>
  </head>
	<body>
	<h1>Break-out</h1>
	<input type="button" value="Start" id="startButton" class="button" onclick="startGame()" />
	
	<canvas id="myCanvas" width="800px" height="600px">
	This text is displayed if your browser does not support HTML5 Canvas.
	</canvas>
  </canvas>
    
  </body>
</html>